---
config:
theme: 'base'
themeVariables:
    primaryColor: '#BB2528'
    primaryTextColor: '#fff'
    primaryBorderColor: '#7C0000'
    lineColor: '#F8B229'
    secondaryColor: '#267826'
    tertiaryColor: '#fff'
---
flowchart TD
    classDef SOURCE stroke:Blue,fill:LightBlue,color:black
    classDef TARGET stroke:Green,fill:LightGreen,color:black
    classDef INTERMEDIATE stroke:DarkOrange,fill:Orange,color:black
    classDef INTERNAL stroke:Purple,fill:Violet,color:black

    sample_table:::SOURCE
    target:::TARGET

    subgraph sample_table
        sample_table.age[age]
        sample_table.name[name]
    end

    subgraph target
        target.age[age]
        target.count[count]
        target.max_name[max_name]
    end

    sample_table.age -- COLUMN,GROUP_BY --> target.age
    sample_table.age -- GROUP_BY --> target.count
    sample_table.age -- GROUP_BY --> target.max_name
    sample_table.name -- COLUMN --> target.max_name
