%%{init: {
    'theme': 'base',
    'themeVariables': {
        'primaryColor': '#ffcccc',
        'edgeLabelBackground':'#ffffff',
        'tertiaryColor': '#fff'
    }
}}%%
flowchart LR
    classDef SOURCE stroke:#00f,fill:#0ff,color:black
    classDef TARGET stroke:#0f0,fill:#0fa,color:black
    classDef INTERNAL stroke:#f00,fill:#fa0,color:black

    sample_table:::SOURCE
    target:::TARGET

    subgraph sample_table
        sample_table.age[age]
        sample_table.name[name]
    end

    subgraph target
        target.age[age]
        target.count[count]
        target.max_name[max_name]
    end

    sample_table.age -- COLUMN,GROUP_BY --> target.age
    sample_table.age -- GROUP_BY --> target.count
    sample_table.age -- GROUP_BY --> target.max_name
    sample_table.name -- COLUMN --> target.max_name
